!function(){"use strict";app=app||{},app.Reset=Backbone.Model.extend({defaults:{success:!1,errors:[],errfor:{},id:void 0,email:void 0,password:"",confirm:""},url:function(){return"/login/reset/"+this.get("email")+"/"+this.id+"/"}}),app.ResetView=Backbone.View.extend({el:"#reset",template:_.template($("#tmpl-reset").html()),events:{"submit form":"preventSubmit",'keypress [name="confirm"]':"resetOnEnter","click .btn-reset":"reset"},initialize:function(){this.listenTo(this.model,"sync",this.render),this.render()},render:function(){return this.$el.html(this.template(this.model.attributes)),this.$el.find('[name="password"]').focus(),this},preventSubmit:function(a){a.preventDefault()},resetOnEnter:function(a){13===a.keyCode&&(a.preventDefault(),this.reset())},reset:function(){this.$el.find(".btn-reset").attr("disabled",!0),this.model.save({password:this.$el.find('[name="password"]').val(),confirm:this.$el.find('[name="confirm"]').val()})}}),app.Router=Backbone.Router.extend({routes:{"login/reset/":"start","login/reset/:email/:token/":"start"},start:function(a,b){app.resetView=new app.ResetView({model:new app.Reset({id:b,email:a})})}}),$(document).ready(function(){app.router=new app.Router,Backbone.history.start({pushState:!0})})}();
//# sourceMappingURL=index.min.js.map